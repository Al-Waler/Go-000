毕业项目

对当下自己项目中的业务，进行一个微服务改造，需要考虑如下技术点：

- 微服务架构（BFF、Service、Admin、Job、Task 分模块） 
- API 设计（包括 API 定义、错误码规范、Error 的使用） 
- gRPC 的使用
- Go 项目工程化（项目结构、DI、代码分层、ORM 框架）
- 并发的使用（errgroup 的并行链路请求)
- 微服务中间件的使用（ELK、Opentracing、Prometheus、Kafka）
- 缓存的使用优化（一致性处理、Pipeline 优化)


现有项目

目前主要负责获取入住主流电商平台的订单、商品、库存、退款同步，绩效统计等后台相关内容；当前架构属于单体应用主要容易暴漏以下问题
. 代码冗余
. 后期维护难，代码迭代发布周期长
. 未进行cqrs

前端业务划分
1. 按照业务模式划分为订单退款，商品，库存
2. 深入学习理解并且使用kratos+consul+gorm+Kafka Opentracing、Prometheus 相应接入
3. BFF 接入统一的权限系统，内部其他系统&第三方api 对接，提供对应的http&grpc 返回必要信息
4. api设计 
   - 全面使用 proto 强制类型约束规范请求，响应参数，同时支持grpc及http
   - 顶层使用http 状态码，内置自定义业务码(proto定义)，错误信息，middleware或最上层warp error 记录日志直接接入阿里云文件日志,后续采用ELK
5. task 
   - 以定时job 方式获取平台相关信息(订单退款，商品)入数据库，后台管理为避免直接读取数据库采用binlog或Kafka job消费到到es
   - 订单状态errgroup 的并行链路请求，发送对应邮件，内部通讯软件的通知，保证及时性, 库存同步按照不同平台分配规则并行同步相应数量
   - 商品上传使用errgroup(获取商品基础信息+整合对应上传格式)+Kafka+job(实际上传)
6. 平台授权有效期通知
    
后台管理
1. 基本订单，商品，库存流水信息直接读取elasticsearch，内部直接通过rpc api 
2. 业绩统计以平台纬度相关由job计算后入数据库
3. 重点日志模块，除系统日志外，重点订单状态变化日志流水，以及客户，运营的相应归纳处理



毕业总结

1. 基本从未进行过微服务的相关开发，本次课程很好的增长了见识学习到了很多相关技术要点以及方法论，为后续学习找到方向
2. 进阶训练营名副其实，毛老师多年的一线研发经验让我这样的更加深入的学习到了不仅仅是大厂开发以及不足不能一直沉浸在安逸的生活
3. 技术开发&职场技能学习收益匪浅
4. 感谢极客时间让我有能够与优秀的人一起学习的机会，更感谢毛老师，助教们的倾囊相授

   

   




